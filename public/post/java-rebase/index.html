<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Java Rebase</title>
<meta name="description" content="visn`s Personal blog about fucking daily chaos :L ">
<meta name="generator" content="Hugo 0.37" />
<meta property="og:title" content="Java Rebase" />
<meta property="og:description" content="写在前面 Java囧境 作为面向对象炒得最火的语言，Java曾依靠虚拟机的跨平台特性撑起计算机半臂江山。
时至今日，Java已经略显疲惫，有些高不成低不就的感觉。
 试图培养成一种面向通用的语言，在py、R、Go等面向专业语言诞生之后，java的通用优势不足。  在安卓领域，第二代第三代JVM语言横空出世，Kotlin快速夺取市场。 在服务器领域，因为历史遗留问题JavaSRE目前依然为主流，但不是长久之计。新的服务器架构快速迭代，后起之秀Py、nodejs也在快速增长。 桌面领域Java一直有力使不出来，底部依赖大、自家GUI又刚不过qt系列 语言语法及其体系相对冗长、功能迭代速度相对较慢，底层相对重量级  甲骨文的收购、商业化与闭源一定程度上延迟了技术层面的增长 曾经的跨平台特性已经不再是其核心竞争力 Java的体系相当庞大，光是服务器框架就可以学完大学四年  （其实感觉有点像Apache与Nginx port80之争那份漫画，老一辈与晚辈各自的优势）
所提的点不是贬低Java，是较理性地描述目前的问题
个人发展瓶颈 本身自己是学习Java内容居多的，从高中一本《从如坑到弃疗》，到大学起来接触各种教新的技术。
大学生迷茫直观上来说，无非分为两种
 了解得太少 了解得太多  中学的时候不知道java是什么，一直摇摆不定学不学计算机，特迷茫。报考了志愿进了计算机这一大坑，诶，目标算是定下来了，不会太迷茫，java就继续学下去。直到接触了更多更先进的技术，再次陷入迷茫。
断舍离提供了一些方法论来解决问题，做出了决定：放弃java，转向其他语言
上升到另一个层面，变成语言无非只是解决问题的方法而以，所以这个决定并不是什么大事。我现在要做的是把大学这一两年来断断续续学到的Java的内容进行归纳总结，毕竟编程设计语言是具有共性的，在Java学到的解决问题的思路，完全可以应用到其他语言、学科和领域。所以在此开了这篇文章。
所以标题引用了git中一个专业名词Rebase，更直观的感受是更换基底的意思。
文所涉及的内容，是个人从Java中学习而来的，并不是Java独有的，请勿混淆
Java总览 语言特性
 面向对象（封装继承多态，不允许多重继承） 跨平台(once code, run debug everywhere) 底层解释型（虚拟机机器码） 安全检查（你可能需要Rust） 强类型、静态语言 内存垃圾gc 大小写严格、默认驼峰命名法  技术与名词 JVM(Java Virtual Machine) Java实体运行软件，通过编程Java代码，编译成class机器码，由JVM适配平台，执行机器码内容（以此实现跨平台）。当然，JVM不一定由Java编写，使用Ruby语言&#43;JRuby编译器等照样可以调用JVM。具体的计算机程序编译过程请自行了解。
JRE(Java Runtime Environment)Java运行环境，包含一个JVM和一系列标准类库
JDK(Java Development Kit) 程序开发库，包含了接口等一系列开发必备软件，通过Java语法导入、调用
JDK的实体文件结构
   目录 描述     \bin 编译器、测试与调用等工具   \demo 代码示例   \docs html的类库文档   \include 用于编译本地库、本地方法的文件   \jre 运行环境所需的文件   \lib 类库文件   \src 类库源文件    SE、ME、EE Java的三个不同版本，分别对应小型设备、桌面与简单服务器、企业及服务器三种平台" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/java-rebase/" />



<meta property="article:published_time" content="2018-01-26T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2018-01-26T00:00:00&#43;00:00"/>











<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="dns-prefetch" href="//fonts.gstatic.com" />

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700" type="text/css" media="all" />
<link rel="stylesheet" href="/css/style.css" type="text/css" media="all" />
<script type="text/javascript" src="/js/scripts.js"></script>
<link rel="shortcut icon" href="/favicon.ico">

</head>
<body class="body body-left-sidebar mobile" itemscope="itemscope" itemtype="http://schema.org/WebPage">
	<div class="container container-outer">
		<header class="header" itemscope="itemscope" itemtype="http://schema.org/WPHeader">
			<div class="container container-inner clearfix">
				<div class="logo" role="banner" itemscope="itemscope" itemtype="http://schema.org/Brand">
					<a class="logo__link" href="/" title="* IN SHADOW" rel="home">
						<h1 class="logo__title">* IN SHADOW</h1>
						
					</a>
				</div>
			</div>
			
<nav class="menu" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
	<ul class="menu__list">
		<li class="menu__item"><a class="menu__link" href="/post/%E6%B8%B8%E8%AE%B0/">浪了个浪</a></li>
		<li class="menu__item"><a class="menu__link" href="/about/">关于</a></li>
	</ul>
</nav>

		</header>
		<div class="wrapper clearfix">

<main class="main-content content" role="main" itemprop="mainContentOfPage">
	<article class="post">
		<header class="post__header clearfix">
			<h1 class="post__title">Java Rebase</h1>
			<p class="post__meta meta">
				<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
				<time class="post__meta-date" datetime="2018-01-26T00:00:00">January 26, 2018</time>
			</p>
		</header>
		<div class="post__content clearfix">
			<figure class="post__thumbnail">
				<img src="http://blog.experts-exchange.com/wp-content/uploads/2012/02/java1.jpg" alt="Java Rebase">
			</figure>
			

<h1 id="写在前面">写在前面</h1>

<hr />

<h2 id="java囧境">Java囧境</h2>

<p>作为面向对象炒得最火的语言，Java曾依靠虚拟机的跨平台特性撑起计算机半臂江山。</p>

<p>时至今日，Java已经略显疲惫，有些高不成低不就的感觉。</p>

<ol>
<li>试图培养成一种面向通用的语言，在py、R、Go等面向专业语言诞生之后，java的通用优势不足。

<ol>
<li>在安卓领域，第二代第三代JVM语言横空出世，Kotlin快速夺取市场。</li>
<li>在服务器领域，因为历史遗留问题JavaSRE目前依然为主流，但不是长久之计。新的服务器架构快速迭代，后起之秀Py、nodejs也在快速增长。</li>
<li>桌面领域Java一直有力使不出来，底部依赖大、自家GUI又刚不过qt系列</li>
<li>语言语法及其体系相对冗长、功能迭代速度相对较慢，底层相对重量级</li>
</ol></li>
<li>甲骨文的收购、商业化与闭源一定程度上延迟了技术层面的增长</li>
<li>曾经的跨平台特性已经不再是其核心竞争力</li>
<li>Java的体系相当庞大，光是服务器框架就可以学完大学四年</li>
</ol>

<p>（其实感觉有点像<a href="https://linux.cn/article-8292-1.html">Apache与Nginx port80之争</a>那份漫画，老一辈与晚辈各自的优势）</p>

<p><strong>所提的点不是贬低Java，是较理性地描述目前的问题</strong></p>

<h2 id="个人发展瓶颈">个人发展瓶颈</h2>

<p>本身自己是学习Java内容居多的，从高中一本《从如坑到弃疗》，到大学起来接触各种教新的技术。</p>

<p><strong>大学生迷茫直观上来说，无非分为两种</strong></p>

<ul>
<li>了解得太少</li>
<li>了解得太多</li>
</ul>

<p>中学的时候不知道java是什么，一直摇摆不定学不学计算机，特迷茫。报考了志愿进了计算机这一大坑，诶，目标算是定下来了，不会太迷茫，java就继续学下去。直到接触了更多更先进的技术，再次陷入迷茫。</p>

<p><a href="https://book.douban.com/subject/24749465/">断舍离</a>提供了一些方法论来解决问题，做出了决定：放弃java，转向其他语言</p>

<p>上升到另一个层面，变成语言无非只是解决问题的方法而以，所以这个决定并不是什么大事。我现在要做的是把大学这一两年来断断续续学到的Java的内容进行归纳总结，<strong>毕竟编程设计语言是具有共性的，在Java学到的解决问题的思路，完全可以应用到其他语言、学科和领域</strong>。所以在此开了这篇文章。</p>

<p>所以标题引用了git中一个专业名词<strong>Rebase</strong>，更直观的感受是<strong>更换基底</strong>的意思。</p>

<p>文所涉及的内容，是个人<strong>从Java中学习而来的</strong>，并不是<strong>Java独有的</strong>，请勿混淆</p>

<h1 id="java总览">Java总览</h1>

<hr />

<p>语言特性</p>

<ul>
<li>面向对象（封装继承多态，不允许多重继承）</li>
<li>跨平台(once code, <del>run</del> debug everywhere)</li>
<li>底层解释型（虚拟机机器码）</li>
<li>安全检查（你可能需要Rust）</li>
<li><a href="https://www.zhihu.com/question/19918532">强类型、静态语言</a></li>
<li>内存垃圾gc</li>
<li>大小写严格、默认驼峰命名法</li>
</ul>

<h2 id="技术与名词">技术与名词</h2>

<p>JVM(Java Virtual Machine) Java实体运行软件，通过编程Java代码，编译成class机器码，由JVM适配平台，执行机器码内容（以此实现跨平台）。当然，JVM不一定由Java编写，使用Ruby语言+JRuby编译器等照样可以调用JVM。具体的计算机程序编译过程请自行了解。</p>

<p>JRE(Java Runtime Environment)Java运行环境，包含一个JVM和一系列标准类库</p>

<p>JDK(Java Development Kit) 程序开发库，包含了接口等一系列开发必备软件，通过Java语法导入、调用</p>

<p>JDK的实体文件结构</p>

<table>
<thead>
<tr>
<th>目录</th>
<th>描述</th>
</tr>
</thead>

<tbody>
<tr>
<td>\bin</td>
<td>编译器、测试与调用等工具</td>
</tr>

<tr>
<td>\demo</td>
<td>代码示例</td>
</tr>

<tr>
<td>\docs</td>
<td>html的类库文档</td>
</tr>

<tr>
<td>\include</td>
<td>用于编译本地库、本地方法的文件</td>
</tr>

<tr>
<td>\jre</td>
<td>运行环境所需的文件</td>
</tr>

<tr>
<td>\lib</td>
<td>类库文件</td>
</tr>

<tr>
<td>\src</td>
<td>类库源文件</td>
</tr>
</tbody>
</table>

<p>SE、ME、EE Java的三个不同版本，分别对应小型设备、桌面与简单服务器、企业及服务器三种平台</p>

<h3 id="clone">clone()</h3>

<blockquote>
<p>相关接口：Cloneable
相关模型：原型模式</p>
</blockquote>

<p>深克隆：刨根问底精确到每一个基本单位全部复制一遍，需要使用递归，每一个子类别都要实现克隆方法</p>

<p>浅克隆：只克隆表面对象，而被克隆对象的属性与原对象属性可能还是同一个引用，具体看你写到有多浅</p>

<p>克隆可用于大规模相同引用、相同数值的对象（如粒子），或者创建耗时的大规模对象，结合<a href="https://visnz.gitbooks.io/ood-oodp/content/chuang-jian-xing-mo-shi/yuan-xing-mo-shi.html">原型模式</a>完成原型克隆，可以实现如git分支的思路、预防恶意修改等功能</p>

<p>可以使用序列化进行对象拷贝（见下端（迷之奇技淫巧</p>

<h3 id="接口与回调">接口与回调</h3>

<blockquote>
<p>相关模型：责任链模式</p>
</blockquote>

<p>回调（callback）是常见的设计模式，通俗话来说类似“触发器”。规定一组接口，并规定一个事件信号（非必须），编写回调内容。在编程过程部署这些回调接口，当有事件信号传入的时候，接口的实例就调用编写好的回调内容。这种模式适合把<strong>响应逻辑和响应时机</strong>分开部署，维护也相对方便。</p>

<p>最广泛的应用在窗口的MVC模式，用户发送event（控制，比如鼠标点击），程序接受并通过根节点递归（<a href="https://visnz.gitbooks.io/ood-oodp/content/xing-wei-xing-mo-shi/ze-ren-lian-mo-shi.html">责任链模式</a>），寻找到可以响应事件的模组上，模组做出响应动作</p>

<h3 id="awt与swing">awt与Swing</h3>

<p>UI的包里面大致结构可以划分为：框架、组件、事件（接口与回调）</p>

<p>awt的基本思路是希望能抽象各个平台的组件，<strong>基于平台的对等体实现</strong>，各平台大佬<del>敷衍</del>配合，勉强完成了“一次编写，处处运行”。由于各平台对于视窗的库都不一样，java也只能取其最小公分母。窗口组件的类型、风格受限于各种平台</p>

<p>后来swing是基于awt的统一了接口与规格（并开发了一些新的组件（<del>反正后来也不新了</del>）），通过为顶层组件提供对等体，使用纯 Java 代码来模拟的。提供更强大的UI组件，对底层平台依赖少，不同平台一致UI，所以可以看到swing的接口是相对统一且较易开发。Swing 无法充分利用硬件 GUI 加速器和专用主机 GUI 操作的优点，所以<strong>慢</strong>。Swing用的是lightweight的API，Qt用的也是他的API。</p>

<p>即，awt面向底层，swing面向上层。</p>

<p>SWT结合两者优点避开两者缺点，部分采用本地对等体（awt），为没有提供的特定主机创建模拟控件（Swing）。相对较为中和，在移植方面表现出色。</p>

<h3 id="lambda表达式">lambda表达式</h3>

<h4 id="表达式与闭包">表达式与闭包</h4>

<p>lambda表达式是无状态的，不接受传参，无法基于自身构建闭包。通过与其词法范围来完成闭包。例如<code>a.b(e -&gt; e*2)</code>是可以实现的，但<code>a.c((e,f) -&gt; e*f)</code>不起作用</p>

<p>通常会使用在lambda外面的词法范围定义变量，使之成为闭包如</p>

<pre><code>func(){
  int a=0;
  x.y(e -&gt; e*a);
}
</code></pre>

<p>词法范围和实际逻辑是低耦合的，变量和引用就很难绑定，如</p>

<pre><code>run(event){
  print(&quot;setup&quot;);
  //do event (print(a))
}
main(){
  int a=4;  //first here
  run(      //second here
    () -&gt; print(a)  //third here
  );  
}
</code></pre>

<p>跨越了一个级别堆栈的引用不可达</p>

<h3 id="异常与异常链">异常与异常链</h3>

<p>异常的出现加速软体的工程化，将问题的反馈具体到类，抛出到指定的接受者，做出不同的响应。可以此基础上设立底层自动执行、仲裁者等角色，模块与模块之间统一异常管理</p>

<p>如果处理不了就继续抛出给上层仲裁者，无需理会也最好出log，尽量不要丢弃异常或无声处理，软体一大就很难调试了</p>

<p>尽可能具体地描述异常而不是根类Exception，借助异常链可以具体地追踪到产生错误的位置（<del>包是不会出问题的，最多是你调用得不好</del>）</p>

<p>构造函数如果需要异常抛出，推荐使用工厂模式、静态生成器模式等</p>

<ul>
<li><p>记得调用finally清除资源 <del>以防内存泄漏</del></p></li>

<li><p>try尽量小，分散、精准地抓住每个异常</p></li>

<li><p>把发生异常的对象通过异常构造器传出，方便上层仲裁</p></li>
</ul>

<h3 id="log">log</h3>

<p>尽量避免用<code>System.out.println()</code>而是采用专门的Log模块来输出日志信息，<a href="https://juejin.im/entry/5987d73c5188256dcc11bb9f">两者区别</a>，日志文件的特性是面向管理和记录。</p>

<p>使用专门模块实现如异步调用、后台分析监控等，专门的Log模块如log4j、logback，JDK中也有自带的Logger包（推荐log4j）</p>

<blockquote>
<p>技术细节：分等级输出、格式化、过滤器、重定向输出</p>
</blockquote>

<h3 id="spring">spring</h3>

<p>spring boot</p>

<p>spring cloud</p>

<h3 id="javabean">JavaBean</h3>

<p>EJB(Enterprise JavaBean)</p>

<p>POJO(Plain Ordinary Java Object)</p>

<h2 id="线程">线程</h2>

<h3 id="大三元">大三元</h3>

<p>Runnable提供异步任务，通常提交给Thread对象</p>

<pre><code class="language-java">Runnable{
  void run();
}
</code></pre>

<p>Callable提供返回值</p>

<pre><code class="language-java">Callable&lt;V&gt;{
  V call();
}
</code></pre>

<p>Future保存计算结果，可以启动某个线程，将该对象交给它，通过引用调用运行结果（任务与结果反馈的分离）。</p>

<pre><code class="language-java">Future&lt;V&gt;{
  V get();
  V get(long timeout, TimeUnit unit);
  boolean cancel(boolean mayInterruptIfRunning);
  boolean isCancelled();
  boolean isDone();
}
</code></pre>

<p><code>FutureTask implements RunnableFuture</code>，构建一个可以运行的对象，可以将callable对象传入封装成一个Runnable或Future对象。实际上就是把任务本身和任务反馈结合在一起，类似一个扩展的Callable。</p>

<h3 id="同步锁">同步锁</h3>

<blockquote>
<p>synchronized同步锁、Lock锁对象、Condition条件对象、volatile</p>
</blockquote>

<p>synchronized同步锁作为关键字对类、对象、<strong>部分代码块</strong> 进行修饰，假设被修饰的部分拥有一个内部锁，执行方法时候对象获得锁，结束时候自动释放。发生异常时会自动释放锁，没办法设置获取超时。</p>

<p>Lock是一个接口，由需要同步的对象或代码块调用<code>lock()</code>和<code>unlock()</code>来完成。相对关键字Lock能具体到每个步骤，提供更多调度可能性（中断等待线程、中断执行线程、了解锁情况、优化性能调度、异常处理）</p>

<p>条件对象是针对某一个条件进行锁的管理。某一线程申请了锁，却因为条件不符需要其他资源，此时条件对象回收他的锁，进行重新分配。当符合该条件的线程完成工作，调用唤醒阻塞在这个条件的所有线程。</p>

<p>volatile是轻量级的同步锁，不提供原子性但保证可见性，在每次访问的时候会获取最新的值，但不适合以其作为判断来完成逻辑（如在高并发情况下，读取的时候是一个数，实际执行到代码块的时候已经变了）</p>

<p><strong>不过通常优先选择已有的执行模型（concurrent包中提供），小范围的锁功能也尽量使用简单的用法</strong></p>

<h3 id="执行器-执行模型">执行器（执行模型）</h3>

<p>创建线程开销大，调度复杂，总结前人经验与使用频度，jdk提供了非常基础的<strong>线程池调度执行器</strong></p>

<p>线程池里拥有活跃或等待的一定数量的线程，按需选择新增或删除线程，任务对象（Runnable、Callable、Runnable+result）交付过来，线程池接收调度。记得调用shutdown关掉。</p>

<p>执行器提供静态工厂创建</p>

<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>

<tbody>
<tr>
<td>CachedThreadPool</td>
<td>按需创建新线程；线程空闲生命周期为60秒，未被使用则销毁</td>
</tr>

<tr>
<td>FixedThreadPool</td>
<td>包含固定数量线程，持续保留</td>
</tr>

<tr>
<td>SingleThreadExecutor</td>
<td>单个线程的池，每次顺序执行一个任务（比如责任链事件响应，不允许同时多次触发）</td>
</tr>

<tr>
<td>ScheduledThreadPool</td>
<td>预定执行线程池，结合Timer计时器</td>
</tr>

<tr>
<td>SingleThreadScheduledExecutor</td>
<td>预定单线程池</td>
</tr>
</tbody>
</table>

<h4 id="控制任务组">控制任务组</h4>

<p>维护一个任务对象的集合，对其进行管理（
  invokeAny方法，只要有一个完成即可汇报，比如挖矿中，只要求出一个正确答案，其他线程即可停止工作。
  invokeAll方法，需要全部完成才进行汇报，比如分块/分层渲染
  等等
）</p>

<h4 id="同步器">同步器</h4>

<p>控制障栅：如大量线程必须等待同步又必须在提交之前完成的情况，即设置一个障栅，当指定的一系列线程都到达障栅，障栅撤销，线程继续。比如游戏资源的后台准备</p>

<p>倒计时门栓：设置倒计时，门栓为1的时候只允许准备线程执行，准备完毕调用计时器，工作进程入场</p>

<p>交换器：生产者消费者问题的经典场景，维护一个交换对象，两个线程都准备好的时候执行交换过程</p>

<h2 id="流">流</h2>

<p>字符设备提供数据流，以顺序按需读取（如调制解调器、键鼠），块设备提供随机访问，以块为单位反馈（如磁盘）。以类似字符设备的读取方式去读文件被形容为流。</p>

<ul>
<li>缓冲流<code>Buffered[In/Out]putStream</code>：维护一个缓冲区，可以分别指派读取和使用，规定大小、清空流等功能（满的时候则清空、输出）</li>
<li><a href="http://www.cnblogs.com/ysocean/p/6870250.html">随机访问流</a><code>RandomAccessFile</code>：以字符为单位的游标指针，表名权限后对其进行随机读写（多线程、断点下载可用）</li>

<li><p>Closeable接口：源自忘记关流程序员们的疏忽，特设置AutoClosable交给系统管理，底层或管理器可以对流进行检查与关闭，以确保系统安全性。使用try-with-resource语法糖，将会在try块结束的时候自动关闭（通常关闭动作在finally里执行）</p>

<pre><code class="language-java">try( someObj which implements AutoClosable )
{ ...dosomething }
</code></pre></li>

<li><p><a href="http://www.codeceo.com/article/java-io-stream-decorators.html">装饰流</a>：运用<a href="https://visnz.gitbooks.io/ood-oodp/content/jie-gou-xing-mo-shi/zhuang-shi-mo-shi.html">装饰器模式</a>，允许向一个现有的对象添加新的功能，同时又不改变其接口结构。用一个新的装饰对象来囊括一个被装饰对象，且实现同样的接口（如<code>Buffered[In/Out]putStream</code>只是<code>[In/Out]putStream</code>的一个加了缓冲模块的装饰流）</p></li>

<li><p>缓冲区结构：0&hellip;标记&hellip;位置&hellip;界限&hellip;容量，标记表示当前已读数据的位置，位置来区分是否已读，界限表示所有已读取但未被读写的部分，界限以外的区域上限到容量</p></li>
</ul>

<h3 id="对象流与序列化">对象流与序列化</h3>

<p>将对象以特定（可自定义）的格式完成<strong>对一系列对象的编码</strong>，可以实现对象的存储（实现如运行状态暂存和持久化、远程对象交流、版本管理等功能）。Serializable接口是一个没有方法的标志接口，表示这个类可以被序列化，底层也会自动遍历类对象的所有属性并进行序列化。jvm有指定默认的编码方式（推荐）。</p>

<p>使用序列化进行克隆：在完成序列化编码的时候，Serializable接口会具体到每一个对象都拔出他的根本引用，作为参考写入。可以以此作为一个迭代的克隆（卧槽代码瞬间就少了（不过涉及寻址、取值、记录装载和编码，这样克隆会相对慢很多</p>

<h3 id="rmi">RMI</h3>

<p>RMI（Remote Method Invocation）Java中的远程调用，可以跨越不同平台，把对象以流的方式传输（如在本地调用云端的方法，云端返回对象回到本地，实现的框架比如Netty）。多端需要有相同的类或接口，版本控制也是一个较大的问题。通常为明文编码，有特定编解码规范，自行造个加密轮子（雾）</p>

<p>网络通信代理模型</p>

<ol>
<li><p>CORBA（通用对象请求代理），支持任何语言的对象之间的通信，使用IIOP协议</p></li>

<li><p>web服务架构（WS-*），基于xml文件，传输简单对象的访问协议（SOAP）</p></li>
</ol>

<p>rmi属于定制版的对象传输，针对java对象进行编码。rmi也可以进行分布式的部署任务</p>

<h3 id="读写文件">读写文件</h3>

<p>随机访问流可以访问文件、复制移动和删除文件，Java有自带的包API（不劳烦您解决生产者消费者问题了）、也包含创建目录、递归创建，获取文件具体信息等基本功能。</p>

<p>运用正则表达式+File提供获取整个递归目录的方法=搜索文件（使用NIO的FileVisitor进行遍历文件）</p>

<p>内存映射文件：通过虚拟内存来实现，把文件映射到内存地址访问，实现快速的文件读写</p>

<p>文件通道：对外设文件的一种抽象，交付给内核以完成文件管理（加锁、传输、读写、内存映射等）</p>

<h3 id="xml">xml</h3>

<p>java提供了两种xml解析器，DOM支持将xml解析为树形结构，SAX解析成字符流。<code>DocumentBuilder</code>实现生成器模式，<code>DocumentBuilderFactory</code>实现工厂模式，后者生成前者，前者构建解析器，支持传入文档、url或一个输入流，由根结点开始向内遍历（会把空白包含在内）</p>

<p>dtd文档类型定义，通常在文档头、xsd文件具体描述dtd内容</p>

<p>蜜汁使用xml构建凭空生成svg图像</p>

<h3 id="nio">NIO</h3>

<p>非阻塞式，通过映射来处理数据块的io包，channel和buffer是核心对象。buffer作为一个抽象类，本质是一个数组，作为容器使用；创建成本高，用法与传统buffer类没有太大区别。channel的读写交互都经由buffer完成。</p>

<p>提供了FileLock的文件锁功能（lock()阻塞方法、tryLock()非阻塞的尝试方法），锁是虚拟机持有，两个java程序不能对同一文件加两把锁</p>

<p>WatchService创建一个后台线程负责对一些文件进行变化监控</p>

<p>调用java.nio.file.attribute访问文件属性</p>

<h2 id="socket">socket</h2>

<p>半关闭：比如http接受到请求，客户端发出请求后即可关闭输出流</p>

<p>套接字中断：socketchannel</p>

<p>URI统一资源标识符（提供语法结构），在库里主要做解析工作，URL实现对资源的连接。URL及相关类如URLConnection与URLPermission权限管理</p>

<h2 id="jdbc">JDBC</h2>

<p>jdbc使用标准SQL语句+sql自选扩展+db提供商与中间件开发的驱动</p>

<p>JDBC规范的驱动分类：</p>

<ol>
<li><p>jdbc翻译到odbc，使用odbc驱动去驱动数据库（早期java）</p></li>

<li><p>java代码+平台代码+数据库api，需要安装平台相关性代码+类库</p></li>

<li><p>纯java驱动，由服务器构件（中间件）完成JDBC请求匹配到指定数据库的API</p></li>

<li><p>纯java驱动，由jdbc直接翻译成数据库协议api（高可靠）</p></li>
</ol>

<h2 id="国际化-多语言">国际化&amp;多语言</h2>

<p>Locale对象表达，可定制格式化内容，就是代码要麻烦一点。formatter格式器系列以工厂方法接受一个locale对象生成格式器。</p>

<p>字符串格式化通过properties属性文件的键值对映射来完成管理（ResourceBundle），编程的时候使用键映射，在properties里完成映射内容。</p>

<h2 id="窗口">窗口</h2>

<p>窗口开发使用JOptionPane提供了几个模板式窗口，确认信息窗口、要求输入窗口、选择窗口，还有三合一的窗口。</p>

<h2 id="安全">安全</h2>

<p>java.security包中有加密相关工具，sha1、md5之类的在MessageDigest类的静态工厂实现</p>

<p>权限集合分割访问</p>

<p>对称密码流</p>

<p>JNI（java本地接口），用于在java中融合其他语言或本地bash等协同工作。（因为管理机制，java并不推荐使用）</p>

<h3 id="类加载器">类加载器</h3>

<p>编译器将java文件转换为虚拟机指令（.class），类加载器即用来在虚拟机运行时加载这些class文件（关联式、运行时加载），协同安全管理器类工作。有引导类、扩展类和系统类三种加载器。父类加载器优先加载，每个线程拥有一个上下文类加载器。可以自己编写加密的类加载器。</p>

<p>加载器将字节码传递给虚拟机的时候会经过<strong>校验器</strong>的一系列检查（如变量初始化、访问规则违反与否、类型匹配等）@编译器检查+数字签名。经过校验器后再送入安全管理器。安全管理器（将检查：创建or销毁虚拟机、访问本地文件socket剪贴板，还有反射再创建等等。默认不开启）</p>

<h2 id="杂项">杂项</h2>

<p>虚拟机提供脚本引擎，得以使用js、ruby等语言对虚拟机和执行程序进行控制（当然脚本是写在外面的）</p>

<p>编译器提供api可以手写动态编译检查和连接</p>

<p>@interface 注释类，提供在编译器检查时候的多分支功能</p>

<p>运用反射创建新对象</p>

<p>高精度：BigInteger（装饰器）</p>

<p>Jenkins：java写成的在线部署工具</p>

<p>高并发与服务器模型（C10K问题）</p>

<p>jsp服务器模型</p>

<p>Junit测试工具（TestNG）</p>

<p>三大框架struts+hibernate+spring</p>

<p><a href="http://www.cnblogs.com/jun-ma/p/4838260.html">结构类似生成器模式的流式编程</a></p>

<p>所看的资料参考程度</p>

<ol>
<li><p>Core Java：外国友人作，首推。思路非常明确：“其他技术→存在问题→众人的解决方法→java的解决方法”来引出java的某项技术，会从较广范围由浅入深（会很深，容易让人放弃），代码示例算比较易懂暴力，<strong>适合对计算机刚入门不久且懵逼的朋友</strong>。有文档摘抄，<strong>适合当工具书</strong>。</p></li>

<li><p>疯狂Java讲义：估计是国内少有得几本拿得出手的java教程，比较<strong>符合国人学习状况</strong>，代码会标出重点啥的。文档有摘抄但没有统一归纳出来。内容太过详细容易磨灭新手自信心，<strong>适合有略微java基础的深入或补漏</strong>。</p></li>

<li><p>Thinking in Java (4th Edition)：非常细节细致入微，以java特性为基础和基本单位进行讲解，<strong>适合理论研究和补漏</strong>，不太适合入门。</p></li>

<li><p>Effective Java (2nd Edition)：78条经验设计理论，比较形而上，<strong>适合瓶颈期针对问题进行深入研究</strong>。</p></li>
</ol>

<hr />

<p>参考资料</p>

<ol>
<li><p><a href="https://www.amazon.com/Core-Java-I-Fundamentals-9th/dp/0137081898">Core Java™ Volume I Fundamentals. (Ninth Edition)</a></p></li>

<li><p><a href="https://www.amazon.com/Core-Java-II-Advanced-Features-9th/dp/013708160X">Core Java™ Volume II Fundamentals. (Ninth Edition)</a></p></li>

<li><p><a href="https://book.douban.com/subject/3246499/">疯狂JAVA讲义 (3rd Edition)</a></p></li>

<li><p><a href="https://www.amazon.com/Thinking-Java-4th-Bruce-Eckel/dp/0131872486">Thinking in Java (4th Edition)</a></p></li>

<li><p><a href="https://book.douban.com/subject/3360807/">Effective Java  (2nd Edition)</a></p></li>

<li><p><a href="https://github.com/jobbole/awesome-java-cn">Github: jobbole/awesome-java-cn</a></p></li>

<li><p><a href="https://github.com/google/guava">Github: google/guava</a></p></li>

<li><p><a href="http://ifeve.com/google-guava/">google/guava 翻译学习支持</a></p></li>

<li><p><a href="https://goghtsui.gitbooks.io/-java/content/">Gitbook 阿里巴巴Java开发手册</a></p></li>

<li><p><a href="https://www.zhihu.com/question/55642203">如何评价阿里近期发布的Java编码规范？ - 知乎</a></p></li>

<li><p><a href="http://www.oracle.com/technetwork/cn/java/javase/documentation/api-jsp-136079-zhs.html">Java SE API与文档</a></p></li>
</ol>

		</div>
		
<div class="post__tags tags clearfix">
	<svg class="icon icon-tag" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="m4.73135 3.3795002q0-.5597-.39604-.9557-.39604-.3961-.95577-.3961-.55974 0-.95578.3961-.39604.396-.39604.9557 0 .5598.39604.9558.39604.3961.95578.3961.55973 0 .95577-.3961.39604-.396.39604-.9558zm11.26865 6.0832q0 .5596998-.39076.9504998l-5.18548 5.196q-.41188.3908-.9610504.3908-.55974 0-.9505-.3908l-7.5511496-7.5616998q-.40132-.3907-.68119-1.0666-.27987-.6759-.27987-1.2357v-4.3934q0-.54920004.40132-.95050004.40132-.4013.9505-.4013h4.39339q.55974 0 1.23565.2799.67591.2798 1.07723.6812l7.55115 7.54060004q.39076.4118.39076.961z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link" href="/tags/java/" rel="tag">Java</a></li>
		<li class="tags__item"><a class="tags__link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/" rel="tag">计算机</a></li>
	</ul>
</div>

	</article>
	
<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="visn Z avatar" src="/img/avatar.png" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About visn Z</span>
	</div>
</div>
	
<nav class="post-nav row clearfix" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
	<div class="post-nav__item post-nav__item--prev col-1-2">
		<a class="post-nav__link" href="/post/disoodp/" rel="prev"><span class="post-nav__caption">«Previous</span><p class="post-nav__post-title">跳出OO思想与OODP-杂记</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next col-1-2">
		<a class="post-nav__link" href="/post/%E4%BC%81%E4%B8%9A%E9%82%AE%E7%AE%B1/" rel="next"><span class="post-nav__caption">Next»</span><p class="post-nav__post-title">阿里云订制个人团队邮箱</p></a>
	</div>
</nav>

	
</main>

<aside class="sidebar" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">
	
<div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="//google.com/search">
		<label>
			<span class="screen-reader-text">Search for:</span>
			<input class="widget-search__field" type="search" placeholder="SEARCH..." value="" name="q">
		</label>
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="/" />
	</form>
</div>
	
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/post/video-proxy/">pr素材代理 =&gt; 大素材打包分发剪辑 &amp;&amp; 高计算量剪辑</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/%E5%AD%97%E5%B9%95/">后期字幕制作踩过的坑和比较推荐的做法</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/nodejscpp/">c&#43;&#43;结合V8模块扩展nodejs功能，用c&#43;&#43;处理复杂计算</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/%E5%9F%BA%E6%9C%AC%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/">最基础的个人文件管理（</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/%E6%B8%B8%E8%AE%B0/">GameJam广州站摸鱼组一日游*2 游记</a></li>
		</ul>
	</div>
</div>

	
	
<div class="widget-social widget">
	<h4 class="widget-social__title widget__title">Social</h4>
	<div class="widget-social__content widget__content">
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="Twitter" rel="noopener noreferrer" href="https://twitter.com/@ZeoVisn" target="_blank">
				<svg class="widget-social__link-icon icon-twitter" viewBox="0 0 384 312" width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill="#fff"><path d="m384 36.9c-14.1 6.3-29.3 10.5-45.2 12.4 16.3-9.7 28.8-25.2 34.6-43.6-15.2 9-32.1 15.6-50 19.1-14.4-15.2-34.9-24.8-57.5-24.8-43.5 0-78.8 35.3-78.8 78.8 0 6.2.7 12.2 2 17.9-65.5-3.3-123.5-34.6-162.4-82.3-6.7 11.6-10.6 25.2-10.6 39.6 0 27.3 13.9 51.4 35 65.6-12.9-.4-25.1-4-35.7-9.9v1c0 38.2 27.2 70 63.2 77.2-6.6 1.8-13.6 2.8-20.8 2.8-5.1 0-10-.5-14.8-1.4 10 31.3 39.1 54.1 73.6 54.7-27 21.1-60.9 33.7-97.8 33.7-6.4 0-12.6-.4-18.8-1.1 34.9 22.4 76.3 35.4 120.8 35.4 144.9 0 224.1-120 224.1-224.1 0-3.4-.1-6.8-.2-10.2 15.4-11.1 28.7-25 39.3-40.8z"/></svg>
				<span>Twitter</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="GitHub" rel="noopener noreferrer" href="https://github.com/visnz" target="_blank">
				<svg class="widget-social__link-icon icon-github" viewBox="0 0 384 374" width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill="#fff"><path d="m192 0c-106.1 0-192 85.8-192 191.7 0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2 0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8 0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7 0 0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4 0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5 0 25.6-.2 46.3-.2 52.6 0 5.1 3.5 11.1 13.2 9.2 76.2-25.5 131.2-97.3 131.2-182 0-105.9-86-191.7-192-191.7z"/></svg>
				<span>GitHub</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="Email" href="mailto:visn0518@gmail.com">
				<svg class="widget-social__link-icon icon-mail" viewBox="0 0 416 288" width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill="#fff"><path d="m0 16v256 16h16 384 16v-16-256-16h-16-384-16zm347 16-139 92.5-139-92.5zm-148 125.5 9 5.5 9-5.5 167-111.5v210h-352v-210z"/></svg>
				<span>visn0518@gmail.com</span>
			</a>
		</div>
	</div>
</div>

	
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget__link widget__link--taglist" href="/tags/adobe" title="adobe">adobe</a>
		<a class="widget__link widget__link--taglist" href="/tags/c&#43;&#43;" title="c&#43;&#43;">c&#43;&#43;</a>
		<a class="widget__link widget__link--taglist" href="/tags/gamejam" title="gamejam">gamejam</a>
		<a class="widget__link widget__link--taglist" href="/tags/java" title="java">java</a>
		<a class="widget__link widget__link--taglist" href="/tags/linux" title="linux">linux</a>
		<a class="widget__link widget__link--taglist" href="/tags/nodejs" title="nodejs">nodejs</a>
		<a class="widget__link widget__link--taglist" href="/tags/%e4%ba%92%e8%81%94%e7%bd%91" title="互联网">互联网</a>
		<a class="widget__link widget__link--taglist" href="/tags/%e5%9b%a2%e9%98%9f%e4%b8%9a%e5%8a%a1" title="团队业务">团队业务</a>
		<a class="widget__link widget__link--taglist" href="/tags/%e5%ad%97%e5%b9%95" title="字幕">字幕</a>
		<a class="widget__link widget__link--taglist" href="/tags/%e5%bd%b1%e8%a7%86%e5%90%8e%e6%9c%9f" title="影视后期">影视后期</a>
		<a class="widget__link widget__link--taglist" href="/tags/%e6%96%87%e4%bb%b6" title="文件">文件</a>
		<a class="widget__link widget__link--taglist" href="/tags/%e6%b5%aa" title="浪">浪</a>
		<a class="widget__link widget__link--taglist" href="/tags/%e7%ae%a1%e7%90%86" title="管理">管理</a>
		<a class="widget__link widget__link--taglist" href="/tags/%e7%bc%96%e7%a8%8b%e6%80%9d%e7%bb%b4" title="编程思维">编程思维</a>
		<a class="widget__link widget__link--taglist" href="/tags/%e8%ae%a1%e7%ae%97%e6%9c%ba" title="计算机">计算机</a>
	</div>
</div>
</aside>

	</div>
		<footer class="footer" itemscope="itemscope" itemtype="http://schema.org/WPFooter">
			<div class="container container-inner">
				<p class="footer__copyright">&copy; 2018 * IN SHADOW. <span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad theme</a>.</span></p>
			</div>
		</footer>
	</div>

<script>
	var navigation = responsiveNav(".menu", {
		navClass: "menu--collapse",
	});
</script>
</body>
</html>
